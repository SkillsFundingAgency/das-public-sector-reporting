@using Microsoft.AspNetCore.Routing
@using SFA.DAS.PSRService.Domain.Enums
@using SFA.DAS.PSRService.Web.ViewModels
@model SFA.DAS.PSRService.Domain.Entities.Section

@{
    ViewData["Title"] = "Public sector reporting";
    var employerId = Context.GetRouteData().Values["hashedEmployerAccountId"];
    ViewBag.GaData.Vpv = "/public-sector-reporting/sections/page-report-numbers";
    var SerialNo = (!string.IsNullOrEmpty(@Model.SerialNo)) ? @Model.SerialNo : "2";
}

<li>
    <h2 class="task-list-section">
        <span class="task-list-section-number">@SerialNo. </span> @Model.Title
    </h2>
    <ul class="task-list-items">

        @if (Model.SubSections != null)
        {
            foreach (var subSection in Model.SubSections)
            {

                <li class="task-list-item">
                    <a class="task-name"
               asp-controller="Question"
               asp-action="Index"
               asp-route-hashedEmployerAccountId="@ViewData[RouteValues.HashedEmployerAccountId]"
               asp-route-id="@subSection.Id" aria-describedby="@($"{subSection.Id}-complete")">

                        @if (subSection.Id != "FullTimeEquivalent")
                        {
                            @subSection.SummaryText.Split("-").First()
                        }
                        else
                        {
                            @subSection.SummaryText
                        }

                    </a>
                    @if (subSection.IsComplete())
                    {
                        <span id="@($"{subSection.Id}-task-completed")" class="govuk-tag">Complete</span>
                    }
                </li>

            }
        }
    </ul>
</li>
